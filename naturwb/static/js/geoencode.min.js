let geoencode=async function(name){let request=new Request(`https://nominatim.openstreetmap.org/search?q=${name},germany&polygon_geojson=1&format=geojson`,{methode:"GET"}),return_feature=await fetch(request).then(response=>response.json().then(json=>{for(let feature of json.features)if(["Polygon","MultiPolygon"].includes(feature.geometry.type))return feature;return"Error"}));return"Error"!=return_feature?return_feature.geometry:"Error"},searchForm=document.getElementById("geoencodeSearchForm");null!==searchForm&&searchForm.addEventListener("submit",async e=>{e.preventDefault();let name=e.target.querySelector("input#id_search_query").value,btn=e.target.querySelector("input#btn_search_query"),error_msg=e.target.querySelector("div#error_search_query"),geometry=await geoencode(name);"Error"!=geometry?(btn.classList.remove("btn-danger"),btn.classList.add("btn-primary"),error_msg.hidden=!0,add_geometry_to_map(geometry)):(btn.classList.remove("btn-primary"),btn.classList.add("btn-danger"),error_msg.hidden=!1)});