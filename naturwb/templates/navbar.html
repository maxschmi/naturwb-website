{% load static %}
<nav class="navbar navbar-expand-sm bg-primary navbar-dark navbar-toggler">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">
        <img type="image/png" src={% static 'Logo_header.png' %} width="75px" height="75px" alt="The NatUrWB-Logo">
        <span class="align-middle" style="font-size:34px;">NatUrWB</span>
      </a>
    </div>
    <!-- Menu -->
    <button class="navbar-toggler menu-button" type="button" data-toggle="collapse" 
            data-target="#menuitems" aria-controls="menuitems" 
            aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>
    <div class="navbar-collapse collapse" id="menuitems">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item "><a href="/" class="nav-link">Home</a></li>
        <li class="nav-item "><a href="/method/" class="nav-link">Methode</a></li>
        <li class="nav-item "><a href="/get_ref/" class="nav-link">Referenz abfragen</a></li> 
      </ul>
    </div>

    {% if user.is_authenticated %}
    <!-- Login Information -->
      <div class="container d-flex justify-content-end no-gutters">
        <p>
          You are loged in as: {{ user }}
          <br>
          <div class="container-fluid d-flex justify-content-end no-gutters">
            <button type="button" class="btn btn-info" onclick="window.location.href='/admin/logout/'" >Log out</button>
          </div>
        </p>
      </div>
    {% endif %}
  </div>
</nav>

<script defer>
  let activate_navbar = () => {
    let path = document.location.href
    let navitems = document.querySelectorAll("#menuitems > .navbar-nav > .nav-item > a")
    navitems.forEach((el) => {
      if (el.href==path){
        el.classList.add('active')
      } else {
        el.classList.remove('active')
      }  
    })
  }
  activate_navbar()
</script>

<!-- for mobile friendly views -->
<script src={% static "js/mobile-menu.min.js" %} defer></script>